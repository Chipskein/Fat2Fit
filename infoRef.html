<!DOCTYPE html>
<html>
    <head>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
        <link rel="icon" href="imgs/diet.png" type="image/png">
        <link rel="stylesheet" href="css/style.css">
        <link rel="manifest" href="manifest.json">
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <title>Fat2fit</title>
    </head>
    <body>
            <div class="container">
                <div class="header row">
                    <img src="imgs/diet.png" class="logo" alt="">
                    <p class="logoTxt">Fat to Fit</p>
                </div>
                <!--<div class="secondLine row"></div> -->
                <p id="refeicao-name"></p>
                <p id='alimentos-txt'>Alimentos</p>
                <div id="alimentos-refe">
                    <div class="alimento-container">
                        <img class="alimento-icon" src="./imgs/dish.png" />
                        <p class="alimento-txt">Batata Inglesa</p>
                        <p class="alimento-kcal">350 kcal</p>
                        <div class="alimento-btn" onclick="" ><img class="alimento-btn-icon" src="./imgs/plus.png" alt="" srcset=""></div>
                    </div>
                </div>
            </div>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                if(localStorage.getItem('refeicao')){
                    let txt=document.getElementById('refeicao-name');
                    txt.innerHTML = `${localStorage.getItem('refeicao')}`;
                    if(localStorage.getItem('refeicao')=='Café da Manhã'){
                        txt.style.color="var(--ciano-color)";
                    }
                    if(localStorage.getItem('refeicao')=='Almoco'){
                        txt.style.color="var(--azul-color)";
                    }
                    if(localStorage.getItem('refeicao')=='Café da Tarde'){
                        txt.style.color="var(--amarelo-color)";
                    }
                    if(localStorage.getItem('refeicao')=='Janta'){
                        txt.style.color="var(--laranja-color)";
                    }
                    getAliments();
                }
            });
            if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
            .then(function () {console.log('service worker registered');})
            .catch(function () {console.log('service worker failed'); });
            }
            function getAliments(){
                let refeicoes=localStorage.getItem('refeicoes');
                refeicoes=JSON.parse(refeicoes);
                console.log(refeicoes);
                if(localStorage.getItem('refeicao')=='Café da Manhã'){
                    console.log(refeicoes.cafe)
                }
                if(localStorage.getItem('refeicao')=='Almoco'){
                    console.log(refeicoes.almoco)
                }
                if(localStorage.getItem('refeicao')=='Café da Tarde'){
                    console.log(refeicoes.cafeTarde)
                }
                if(localStorage.getItem('refeicao')=='Janta'){
                    console.log(refeicoes.janta)
                }
            }
        </script>
        <script type="text/javascript" src="js/materialize.min.js"></script>
    </body>
</html>